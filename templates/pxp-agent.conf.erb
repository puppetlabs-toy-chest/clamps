{
  "broker-ws-uri" : "wss://<%= scope['clamps::agent::orch_server'] %>:8142/<%= @pcp_endpoint %>/",
  "ssl-key" : "<%= @config_path %>/etc/puppet/ssl/private_keys/<%= @agent_certname %>.pem",
  "ssl-ca-cert" : "/etc/puppetlabs/puppet/ssl/certs/ca.pem",
  "ssl-cert" : "<%= @config_path %>/etc/puppet/ssl/certs/<%= @agent_certname %>.pem",
  "pidfile" : "<%= @config_path %>/var/run/pxp-agent.pid",
  "logfile" : "<%= @config_path %>/var/log/pxp-agent.log",
  "loglevel" : "<%= scope['clamps::agent::pxp_log_level'] %>",
<% if @pcp_v2_compatible -%>
  "pcp-version": "2",
<% end -%>
<% if scope['clamps::agent::pxp_ping_interval'] -%>
  "ping-interval" : <%= scope['clamps::agent::pxp_ping_interval'] %>,
<% end -%>
<% if @pxp_mock_puppet -%>
  "modules-dir": "<%= @config_path %>/opt/pxp-agent/modules",
<% end -%>
<% if @pxp_task_compatible -%>
  "task-cache-dir": "<%= @config_path %>/opt/pxp-agent/tasks-cache",
  "master-uris": ["<%= @servername %>"],
<% end -%>
  "spool-dir" : "<%= @config_path %>/opt/pxp-agent/spool"
}
